<!DOCTYPE html>
<html>
<head>
<title>Property Catalogue with AJAX</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<nav>
<a href="#">Home</a>
<a href="#">Properties</a>
</nav>

<div class="container">
<h1>Property Catalogue</h1>
<button onclick="loadProperties()">Load Properties</button>
<div id="propertyList"></div>
</div>

<script>
const simulatedData = [
    {"name": "Ocean View Apartment", "location": "Kannur", "rent": 12000},
    {"name": "City Center Flat", "location": "Thalassery", "rent": 10000},
    {"name": "Cozy Villa", "location": "Payyannur", "rent": 15000}
];

function loadProperties() {
    let xhr = new XMLHttpRequest();
    let url = "properties.json";
    xhr.open("GET", url, true);
    xhr.onreadystatechange = function() {
        if(xhr.readyState === 4) {
            let status = Math.random() < 0.9 ? 200 : 404;
            if(status === 200) {
                renderProperties(simulatedData);
            } else if(status === 404) {
                document.getElementById("propertyList").innerHTML = "<p>Data not found (404)</p>";
            } else if(status === 500) {
                document.getElementById("propertyList").innerHTML = "<p>Server error (500)</p>";
            } else {
                document.getElementById("propertyList").innerHTML = "<p>Error: Status " + status + "</p>";
            }
        }
    };
    xhr.send();
}

function renderProperties(properties) {
    let container = document.getElementById("propertyList");
    container.innerHTML = "";
    properties.forEach(p => {
        let div = document.createElement("div");
        div.className = "property-card";
        div.innerHTML = `<strong>${p.name}</strong><br>Location: ${p.location}<br>Rent: â‚¹${p.rent}`;
        container.appendChild(div);
    });
}
</script>

</body>
</html>
